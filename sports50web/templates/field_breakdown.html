{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Field Breakdown</title>

{{ script | safe }}

</head>

<body>
<style>
.myCheckbox {
  font-size: 20px;
}

div.myCheckboxText {
  font-size: 16px;
}

</style>



  <h3>Statistics by field position {{ request }}</h3>
  <p>Hover over different areas of the football field below to observe how many instances of the selected statistic occured on plays started from within 
  each ten yard interval.</p>

<div class="tab">
  <div class="nav nav-tabs" id="fieldTabs">
    <button id="field_passing_button" onclick="document.getElementById('field_passing').click();"><a id="field_passing" class="tablinks" href="#stats2" data-url="{% url 'field_breakdown_passing' team_id %}">Passing</a></button>
    <button id="field_rushing_button" onclick="document.getElementById('field_rushing').click();"><a id="field_rushing" class="tablinks" href="#stats2" data-url="{% url 'field_breakdown_rushing' team_id %}">Rushing</a></button>    
</div>
</div>

  <div class="tab-content">
    <div class="tab-pane active" id="stats2"></div>
  </div>  

<div id="svg1" class="svgs">
  <script type="text/javascript">
      var svg = d3.select("#svg1").append("svg").attr("height","600").attr("width","1200").attr("id","first_svg");

  var div = d3.select("body").append("div")
      .attr("class", "tooltip").attr("id","first_svg_tooltip")      
      .style("opacity", 0).style("font", "24px sans-serif"); 

  var team_logo = JSON.parse('{{ team_logo | safe }}')[0]  

  console.log(team_logo)
  console.log(typeof team_logo)      

    var images = [{"image": "{% static 'football_field_reshaped2.png' %}", "x": "100", "y": "-270", "width": "1000", "height": "1100"},
  {"image": team_logo, "x": "551", "y": "145", "width": "100", "height": "200"}]
    var imgs = svg.selectAll("image").data(images);
        imgs.enter()
        .append("svg:image")
        .attr("xlink:href", function(d){ return d.image})
        .attr("x", function(d){ return d.x})
        .attr("y", function(d){ return d.y})
        .attr("width", function(d){ return d.width})
        .attr("height", function(d){ return d.height});
  </script>
</div>
<script type="text/javascript">
$('#fieldTabs a').click(function (e) {
  e.preventDefault();
  
  var url = $(this).attr("data-url");
    var href = this.hash;
    var pane = $(this);
  

  // ajax load from data-url
  $(href).load(url)
});

  console.log('dang')
    document.getElementById("field_passing_button").click();
console.log('hello')
</script>
</body>
</html>
